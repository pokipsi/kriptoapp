(function(t){function e(e){for(var n,r,l=e[0],s=e[1],c=e[2],d=0,p=[];d<l.length;d++)r=l[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,l=1;l<a.length;l++){var s=a[l];0!==i[s]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={app:0},o=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=s;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{color:"blue accent-4",dense:"",dark:""}},[a("v-toolbar-title",[t._v("Kripto App")]),a("v-spacer"),a("v-menu",{attrs:{"offset-x":!1,"offset-y":!0},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{depressed:"",text:""},on:{click:function(e){return t.onMenuClick()}}},n),[t.newNotificationsCount>0?a("v-badge",{attrs:{color:"red",content:t.newNotificationsCount,"offset-y":"15"}},[a("v-icon",{attrs:{color:"blue darken-4"}},[t._v("mdi-alert-box")])],1):a("span",[a("v-icon",{attrs:{color:"blue darken-4"}},[t._v("mdi-alert-box")])],1)],1)]}}]),model:{value:t.menuState,callback:function(e){t.menuState=e},expression:"menuState"}},[t.notifications.length>0?a("v-list",{attrs:{"min-width":"200","max-height":"300"}},t._l(t.notifications,(function(e){return a("v-list-item",{key:e.id},[a("v-list-item-title",[t._v(t._s(e.title))]),a("v-divider")],1)})),1):t._e()],1),a("v-btn",{staticClass:"ml-2",attrs:{text:"",to:"/"}},[t._v("Coins")]),a("v-btn",{staticClass:"ml-2",attrs:{text:"",to:"/alerts"}},[t._v("Alerts")])],1),a("keep-alive",[a("router-view")],1),a("audio",{ref:"notification-sound"},[a("source",{attrs:{src:"/notification.ogg",type:"audio/ogg"}}),t._v(" Your browser does not support the audio element. ")])],1)},o=[],r=(a("99af"),a("159b"),function(t){return"lt"==t?"<":">"}),l=window.socket,s={data:function(){return{notifications:[],newNotificationsCount:0,menuState:!1,audio:null}},methods:{onMenuClick:function(){this.menuState||(this.newNotificationsCount=0)}},mounted:function(){var t=this;l.on("alerts",(function(e){var a=e.data,n=a.display,i=a.currentPrice;console.log(n,i),n.forEach((function(e){t.notifications.unshift({title:"BTC price is: ".concat(i,", ").concat(r(e.type)," ").concat(e.value)}),t.menuState||(t.newNotificationsCount+=1,t.$refs["notification-sound"].play())}))}))},created:function(){this.newNotificationsCount=this.notifications.length}},c=s,u=a("2877"),d=a("6544"),p=a.n(d),v=a("7496"),f=a("40dc"),m=a("4ca6"),h=a("8336"),b=a("ce7e"),g=a("132d"),y=a("8860"),w=a("da13"),x=a("5d23"),_=a("e449"),C=a("2fa4"),V=a("2a7f"),O=Object(u["a"])(c,i,o,!1,null,null,null),S=O.exports;p()(O,{VApp:v["a"],VAppBar:f["a"],VBadge:m["a"],VBtn:h["a"],VDivider:b["a"],VIcon:g["a"],VList:y["a"],VListItem:w["a"],VListItemTitle:x["c"],VMenu:_["a"],VSpacer:C["a"],VToolbarTitle:V["a"]});var T=a("8c4f"),k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-spacer",{staticClass:"mt-4"}),t._l(t.coins,(function(e){return a("v-card",{key:e.id,staticClass:"mx-auto mb-4",attrs:{"min-width":"344","max-width":"344",elevation:"8"}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("div",{staticClass:"overline mb-4"},[t._v(t._s(e.symbol)+" ("+t._s(e.id)+")")]),a("v-list-item-title",{staticClass:"headline mb-1"},[t._v(t._s(e.name))]),a("v-list-item-subtitle",[t._v("$ "+t._s(e.quote.USD.price.toFixed(2)))]),1==e.id?a("v-btn",{staticClass:"ml-auto",attrs:{small:"",color:"primary","max-width":"100",to:"/detail/"+e.id}},[t._v("Details")]):t._e()],1)],1)],1)})),a("v-spacer",{staticClass:"mb-4"})],2)},F=[],A=(a("d3b7"),{name:"homepage",data:function(){return{coins:[]}},methods:{getCoins:function(){var t=this,e="/api/coins";fetch(e).then((function(t){return t.json()})).then((function(e){t.coins=e.data}))}},mounted:function(){this.getCoins()}}),j=A,U=a("b0af"),L=Object(u["a"])(j,k,F,!1,null,null,null),E=L.exports;p()(L,{VApp:v["a"],VBtn:h["a"],VCard:U["a"],VListItem:w["a"],VListItemContent:x["a"],VListItemSubtitle:x["b"],VListItemTitle:x["c"],VSpacer:C["a"]});var N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-spacer",{staticClass:"mt-4"}),a("v-container",[a("v-row",[a("v-col",{staticClass:"mx-auto",attrs:{lg:"6"}},[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"3"}},[a("v-text-field",{attrs:{label:"Enter value"}})],1),a("v-col",{attrs:{cols:"12",lg:"3"}},[a("v-select",{attrs:{items:["Less than","Greater than"],label:"Type"}})],1),a("v-col",{staticClass:"my-auto",attrs:{cols:"12",lg:"2"}},[a("v-btn",{attrs:{small:""}},[t._v("Add alert")])],1)],1),a("div",{staticStyle:{height:"560px","background-color":"#FFFFFF",overflow:"hidden","box-sizing":"border-box",border:"1px solid #56667F","border-radius":"4px","text-align":"right","line-height":"14px","font-size":"12px","font-feature-settings":"normal","text-size-adjust":"100%","box-shadow":"inset 0 -20px 0 0 #56667F",padding:"0px",margin:"0px",width:"100%"}},[a("div",{staticStyle:{height:"540px",padding:"0px",margin:"0px",width:"100%"}},[a("iframe",{staticStyle:{border:"0",margin:"0",padding:"0","line-height":"14px"},attrs:{src:"https://widget.coinlib.io/widget?type=chart&theme=light&coin_id=859&pref_coin_id=1505",width:"100%",height:"536px",scrolling:"auto",marginwidth:"0",marginheight:"0",frameborder:"0",border:"0"}})]),a("div",{staticStyle:{color:"#FFFFFF","line-height":"14px","font-weight":"400","font-size":"11px","box-sizing":"border-box",padding:"2px 6px",width:"100%","font-family":"Verdana, Tahoma, Arial, sans-serif"}},[a("a",{staticStyle:{"font-weight":"500",color:"#FFFFFF","text-decoration":"none","font-size":"11px"},attrs:{href:"https://coinlib.io/widgets",target:"_blank"}},[t._v("Bitcoin Widget")]),t._v(" by Coinlib")])])],1)],1)],1),a("v-spacer",{staticClass:"mb-4"})],1)},$=[],I={},P=I,B=a("62ad"),M=a("a523"),z=a("0fd9"),D=a("b974"),K=a("8654"),J=Object(u["a"])(P,N,$,!1,null,null,null),G=J.exports;p()(J,{VApp:v["a"],VBtn:h["a"],VCol:B["a"],VContainer:M["a"],VRow:z["a"],VSelect:D["a"],VSpacer:C["a"],VTextField:K["a"]});var R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{key:t.componentKey},[a("v-container",[a("v-row",[a("v-col",{staticClass:"mx-auto",attrs:{cols:"12",lg:"3"}},[a("v-spacer",{staticClass:"mt-4"}),a("v-row",[a("v-col",{attrs:{cols:"12",lg:"4"}},[a("v-text-field",{attrs:{label:"Enter value"},model:{value:t.newOne.value,callback:function(e){t.$set(t.newOne,"value",e)},expression:"newOne.value"}})],1),a("v-col",{attrs:{cols:"12",lg:"4"}},[a("v-select",{attrs:{items:[{name:"Less than",value:"lt"},{name:"Greater than",value:"gt"}],label:"Type","item-text":"name","item-value":"value"},model:{value:t.newOne.type,callback:function(e){t.$set(t.newOne,"type",e)},expression:"newOne.type"}})],1),a("v-col",{staticClass:"my-auto",attrs:{cols:"12",lg:"4"}},[a("v-btn",{attrs:{small:""},on:{click:function(e){return t.addAlert()}}},[t._v("Add alert")])],1)],1),t._l(t.alerts,(function(e){return a("v-card",{key:e._id,staticClass:"mx-auto mb-4",attrs:{elevation:"8"}},[a("v-list-item",{attrs:{"three-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"headline mb-1"},[t.alertToUpdate[e._id]?a("div",[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"4"}},[a("v-text-field",{attrs:{label:"Enter value"},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"alert.value"}})],1),a("v-col",{attrs:{cols:"12",lg:"4"}},[a("v-select",{attrs:{items:[{name:"Less than",value:"lt"},{name:"Greater than",value:"gt"}],label:"Type","item-text":"name","item-value":"value"},model:{value:e.type,callback:function(a){t.$set(e,"type",a)},expression:"alert.type"}})],1)],1)],1):a("div",[t._v(" "+t._s(t.display(e))+" ")])]),t.alertToUpdate[e._id]?a("v-row",[a("v-btn",{staticClass:"ml-auto",attrs:{small:"",color:"warning","max-width":"120"},on:{click:function(a){return t.confirmUpdate(e)}}},[t._v("Save changes")]),a("v-btn",{staticClass:"ml-2 mr-2",attrs:{icon:"",small:"",text:"","max-width":"24","min-width":"24"},on:{click:function(a){return t.clearAlertToUpdate(e._id)}}},[a("v-icon",[t._v("mdi-close")])],1)],1):a("v-row",[a("v-btn",{staticClass:"ml-auto",attrs:{small:"",color:"primary","max-width":"120"},on:{click:function(a){return t.setAlertToUpdate(e._id)}}},[t._v("Update")]),a("v-btn",{staticClass:"ml-2 mr-2",attrs:{icon:"",small:"",text:"","max-width":"24","min-width":"24"},on:{click:function(a){return t.deleteAlert(e._id)}}},[a("v-icon",[t._v("mdi-delete")])],1)],1)],1)],1)],1)})),a("v-spacer",{staticClass:"mb-4"})],2)],1)],1)],1)},q=[],W=(a("acd8"),{name:"alerts",data:function(){return{alerts:[],newOne:{},alertToUpdate:{},componentKey:0}},methods:{display:function(t){return"".concat(r(t.type)," ").concat(t.value," $")},confirmUpdate:function(t){var e=this;if(t.type&&t.value){if(isNaN(t.value))return void alert("Value must be number (float)");fetch("/api/alerts/".concat(t._id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({value:parseFloat(t.value),type:t.type,status:t.status})}).then((function(t){return t.json()})).then((function(){e.getAlerts(),e.clearAlertToUpdate(t._id)}))}},setAlertToUpdate:function(t){this.alertToUpdate[t]=!0,this.componentKey+=1},clearAlertToUpdate:function(t){delete this.alertToUpdate[t],this.componentKey+=1},addAlert:function(){var t=this;if(this.newOne.type&&this.newOne.value){if(isNaN(this.newOne.value))return void alert("Value must be number (float)");fetch("/api/alerts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({value:parseFloat(this.newOne.value),type:this.newOne.type})}).then((function(t){return t.json()})).then((function(){t.newOne={},t.getAlerts()}))}else alert("Enter value and select type")},getAlerts:function(){var t=this;fetch("/api/alerts").then((function(t){return t.json()})).then((function(e){t.alerts=e.reverse()}))},deleteAlert:function(t){var e=this;confirm("Delete this alert?")&&fetch("/api/alerts/".concat(t),{method:"DELETE"}).then((function(t){return t.json()})).then((function(){e.getAlerts()}))}},mounted:function(){this.getAlerts()}}),Y=W,H=Object(u["a"])(Y,R,q,!1,null,null,null),Q=H.exports;p()(H,{VApp:v["a"],VBtn:h["a"],VCard:U["a"],VCol:B["a"],VContainer:M["a"],VIcon:g["a"],VListItem:w["a"],VListItemContent:x["a"],VListItemTitle:x["c"],VRow:z["a"],VSelect:D["a"],VSpacer:C["a"],VTextField:K["a"]}),n["a"].use(T["a"]);var X=new T["a"]({mode:"history",routes:[{path:"/",name:"homepage",component:E},{path:"/detail/:id",name:"detail",component:G},{path:"/alerts",name:"alerts",component:Q}]}),Z=X,tt=a("2f62");n["a"].use(tt["a"]);var et=new tt["a"].Store({state:{},getters:{},mutations:{},actions:{}}),at=et,nt=a("f309");n["a"].use(nt["a"]);var it=new nt["a"]({});n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(S)},router:Z,store:at,vuetify:it}).$mount("#app")}});
//# sourceMappingURL=app.2f5a675c.js.map